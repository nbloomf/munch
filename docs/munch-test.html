<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Munch Examples</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="style.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">Munch Examples</h1>
</header>
<p>In <a href="/Munch.html">Munch</a> we built a little parser combinator library. Now let’s test it.</p>
<p>This module consists of a list of parsers, together with lists of <em>good</em> inputs (with expected outputs) and <em>bad</em> inputs (with expected errors). These examples form an automated test suite for the library.</p>
<p>First the usual compiler noises.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">module</span> <span class="dt">Main</span> (main) <span class="kw">where</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">import</span> <span class="dt">Text.ParserCombinators.Munch</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">import</span> <span class="dt">Control.Applicative</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">import</span> <span class="dt">System.Exit</span> (exitFailure)</a></code></pre></div>
<h2 id="test-helpers">Test Helpers</h2>
<p>Although the Munch library can operate on any type implementing the <code>Token</code> class, these examples will only test the built-in <code>Char</code> instance.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" data-line-number="1">runCharParse</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="ot">  ::</span> <span class="dt">Parser</span> <span class="dt">Char</span> a</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">  <span class="ot">-&gt;</span> <span class="dt">String</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">  <span class="ot">-&gt;</span> <span class="dt">Either</span> (<span class="dt">ParseError</span> <span class="dt">Char</span>) a</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">runCharParse q str <span class="fu">=</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">  runParser q (toStream str)</a></code></pre></div>
<p><code>parse_results</code> is a helper function taking a parser and a list of good inputs and outputs; for each example it checks the actual output against the expectation. The entire suite fails if any example fails.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" data-line-number="1">parse_results</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="ot">  ::</span> (<span class="dt">Eq</span> a, <span class="dt">Show</span> a) <span class="ot">=&gt;</span> <span class="dt">Parser</span> <span class="dt">Char</span> a <span class="ot">-&gt;</span> [(<span class="dt">String</span>, a)] <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">parse_results <span class="fu">=</span> mapM_ <span class="fu">.</span> parse_result_is</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="kw">where</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">    parse_result_is</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="ot">      ::</span> (<span class="dt">Eq</span> a, <span class="dt">Show</span> a) <span class="ot">=&gt;</span> <span class="dt">Parser</span> <span class="dt">Char</span> a <span class="ot">-&gt;</span> (<span class="dt">String</span>, a) <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">    parse_result_is q (str, x) <span class="fu">=</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">      <span class="kw">case</span> runCharParse q str <span class="kw">of</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">        <span class="dt">Left</span> err <span class="ot">-&gt;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10">          putStrLn <span class="fu">$</span> <span class="ch">&#39;\n&#39;</span> <span class="fu">:</span> displayParseError err</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">          exitFailure</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">        <span class="dt">Right</span> a <span class="ot">-&gt;</span> <span class="kw">if</span> a <span class="fu">==</span> x</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">          <span class="kw">then</span> return ()</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">          <span class="kw">else</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15">            putStrLn <span class="st">&quot;=&gt; Value Error!&quot;</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16">            putStrLn <span class="st">&quot;=&gt; Expected:&quot;</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17">            putStrLn <span class="fu">$</span> show x</a>
<a class="sourceLine" id="cb3-18" data-line-number="18">            putStrLn <span class="st">&quot;=&gt; Actual:&quot;</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19">            putStrLn <span class="fu">$</span> show a</a>
<a class="sourceLine" id="cb3-20" data-line-number="20">            exitFailure</a></code></pre></div>
<p>Similarly, <code>parse_failures</code> takes a parser and a list of bad inputs and outputs, failing if actual output doesn’t match.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb4-1" data-line-number="1">parse_failures</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="ot">  ::</span> (<span class="dt">Eq</span> a, <span class="dt">Show</span> a)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  <span class="ot">=&gt;</span> <span class="dt">Parser</span> <span class="dt">Char</span> a <span class="ot">-&gt;</span> [(<span class="dt">String</span>, <span class="dt">ParseError</span> <span class="dt">Char</span>)] <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">parse_failures <span class="fu">=</span> mapM_ <span class="fu">.</span> parse_failure_is</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">  <span class="kw">where</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">    parse_failure_is</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="ot">      ::</span> (<span class="dt">Eq</span> a, <span class="dt">Show</span> a)</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">      <span class="ot">=&gt;</span> <span class="dt">Parser</span> <span class="dt">Char</span> a <span class="ot">-&gt;</span> (<span class="dt">String</span>, <span class="dt">ParseError</span> <span class="dt">Char</span>) <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">    parse_failure_is q (str, fail) <span class="fu">=</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10">      <span class="kw">case</span> runCharParse q str <span class="kw">of</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11">        <span class="dt">Right</span> a <span class="ot">-&gt;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12">          putStrLn <span class="fu">$</span> <span class="ch">&#39;\n&#39;</span> <span class="fu">:</span> <span class="st">&quot;Expected failure:&quot;</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13">          putStrLn <span class="fu">$</span> show a</a>
<a class="sourceLine" id="cb4-14" data-line-number="14">          exitFailure</a>
<a class="sourceLine" id="cb4-15" data-line-number="15">        <span class="dt">Left</span> err <span class="ot">-&gt;</span> <span class="kw">if</span> err <span class="fu">==</span> fail</a>
<a class="sourceLine" id="cb4-16" data-line-number="16">          <span class="kw">then</span> return ()</a>
<a class="sourceLine" id="cb4-17" data-line-number="17">          <span class="kw">else</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18">            putStrLn <span class="st">&quot;=&gt; Error Error!&quot;</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19">            putStrLn <span class="st">&quot;=&gt; Expected:&quot;</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20">            putStrLn <span class="fu">$</span> show fail</a>
<a class="sourceLine" id="cb4-21" data-line-number="21">            putStrLn <span class="st">&quot;=&gt; Actual:&quot;</span></a>
<a class="sourceLine" id="cb4-22" data-line-number="22">            putStrLn <span class="fu">$</span> show err</a>
<a class="sourceLine" id="cb4-23" data-line-number="23">            exitFailure</a></code></pre></div>
<p>Now <code>test_parser</code> wraps all this up, running good and bad tests for a given parser and reporting the result.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" data-line-number="1">test_parser</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="ot">  ::</span> (<span class="dt">Eq</span> a, <span class="dt">Show</span> a)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">  <span class="ot">=&gt;</span> <span class="dt">String</span> <span class="co">-- ^ Test label</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">  <span class="ot">-&gt;</span> <span class="dt">Parser</span> <span class="dt">Char</span> a</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  <span class="ot">-&gt;</span> [(<span class="dt">String</span>, a)] <span class="co">-- ^ Good cases</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">  <span class="ot">-&gt;</span> [(<span class="dt">String</span>, <span class="dt">ParseError</span> <span class="dt">Char</span>)] <span class="co">-- ^ Bad cases</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7">  <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">test_parser name p oks fails <span class="fu">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9">  putStrLn <span class="fu">$</span> <span class="st">&quot;==&gt; &quot;</span> <span class="fu">++</span> name</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">  parse_results p oks</a>
<a class="sourceLine" id="cb5-11" data-line-number="11">  parse_failures p fails</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">  <span class="kw">let</span> k <span class="fu">=</span> length oks <span class="fu">+</span> length fails</a>
<a class="sourceLine" id="cb5-13" data-line-number="13">  putStrLn <span class="fu">$</span> <span class="st">&quot;OK: &quot;</span> <span class="fu">++</span> show k <span class="fu">++</span> <span class="st">&quot; cases&quot;</span></a></code></pre></div>
<h2 id="the-tests">The Tests</h2>
<p>Let’s start simple with <code>char</code>. There’s only one way this parser can succeed, and a few ways it can fail.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb6-1" data-line-number="1">p_00 <span class="fu">=</span> char <span class="ch">&#39;a&#39;</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">ok_00 <span class="fu">=</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">  [ (<span class="st">&quot;a&quot;</span>, <span class="ch">&#39;a&#39;</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">  ]</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">fail_00 <span class="fu">=</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7">  [ (<span class="st">&quot;ab&quot;</span>, <span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">IncompleteParse</span> <span class="fu">$</span> <span class="dt">Just</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">  , (<span class="st">&quot;b&quot;</span>, <span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">UnexpectedToken</span> <span class="ch">&#39;b&#39;</span> (<span class="dt">Just</span> <span class="ch">&#39;a&#39;</span>) (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">  , (<span class="st">&quot;&quot;</span>, <span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">UnexpectedEOF</span> <span class="fu">$</span> <span class="dt">Right</span> (<span class="dt">Just</span> <span class="ch">&#39;a&#39;</span>))</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">  ]</a></code></pre></div>
<p>Next is <code>anyToken</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb7-1" data-line-number="1">p_01 <span class="fu">=</span> anyToken</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"></a>
<a class="sourceLine" id="cb7-3" data-line-number="3">ok_01 <span class="fu">=</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">  [ (<span class="st">&quot;a&quot;</span>, <span class="ch">&#39;a&#39;</span>)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">  , (<span class="st">&quot;\n&quot;</span>, <span class="ch">&#39;\n&#39;</span>)</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">  ]</a>
<a class="sourceLine" id="cb7-7" data-line-number="7">fail_01 <span class="fu">=</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8">  [ (<span class="st">&quot;&quot;</span>, <span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">UnexpectedEOF</span> <span class="fu">$</span> <span class="dt">Left</span> <span class="st">&quot;any token&quot;</span>)</a>
<a class="sourceLine" id="cb7-9" data-line-number="9">  , (<span class="st">&quot;ab&quot;</span>, <span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">IncompleteParse</span> <span class="fu">$</span> <span class="dt">Just</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb7-10" data-line-number="10">  ]</a></code></pre></div>
<p>Now to try <code>many</code>. Note the failure case <code>&quot;a&quot;</code> here; <code>many decimalDigit</code> looks for 0 or more decimal digit, and finds none. This is a successful parse. Control then passes <code>&quot;a&quot;</code> to <code>eof</code>, which fails when it encounters <code>'a'</code>. So the actual failure message is raised by <code>eof</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb8-1" data-line-number="1">p_02 <span class="fu">=</span> many decimalDigit <span class="fu">&lt;*</span> eof</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">ok_02 <span class="fu">=</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">  [ (<span class="st">&quot;1&quot;</span>, <span class="st">&quot;1&quot;</span>)</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">  , (<span class="st">&quot;463&quot;</span>, <span class="st">&quot;463&quot;</span>)</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">  , (<span class="st">&quot;&quot;</span>, <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">  ]</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">fail_02 <span class="fu">=</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9">  [ (<span class="st">&quot;a&quot;</span>, <span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">UnexpectedToken</span> <span class="ch">&#39;a&#39;</span> <span class="dt">Nothing</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb8-10" data-line-number="10">  ]</a></code></pre></div>
<p>Here’s a test using <code>&lt;|&gt;</code> and <code>&lt;?&gt;</code>. Note the difference in behavior between this parser and the last that arises because we’re using <code>&gt;&gt;</code> rather than <code>&lt;*</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb9-1" data-line-number="1">p_03 <span class="fu">=</span> (smol <span class="fu">&lt;|&gt;</span> big) <span class="fu">&gt;&gt;</span> eof</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">  <span class="kw">where</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3">    smol <span class="fu">=</span> some lowerLatin <span class="fu">&lt;?&gt;</span> <span class="st">&quot;little word&quot;</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">    big  <span class="fu">=</span> some upperLatin <span class="fu">&lt;?&gt;</span> <span class="st">&quot;big word&quot;</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"></a>
<a class="sourceLine" id="cb9-6" data-line-number="6">ok_03 <span class="fu">=</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7">  [ (<span class="st">&quot;abc&quot;</span>, ())</a>
<a class="sourceLine" id="cb9-8" data-line-number="8">  , (<span class="st">&quot;ABC&quot;</span>, ())</a>
<a class="sourceLine" id="cb9-9" data-line-number="9">  ]</a>
<a class="sourceLine" id="cb9-10" data-line-number="10">fail_03 <span class="fu">=</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11">  [ (<span class="st">&quot;abcD&quot;</span>, <span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">UnexpectedToken</span> <span class="ch">&#39;D&#39;</span> <span class="dt">Nothing</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">4</span>))</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">  , ( <span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13">    , <span class="dt">OneOf</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14">        [ <span class="dt">Because</span> (<span class="dt">Note</span> <span class="st">&quot;little word&quot;</span> <span class="dt">Nothing</span>)</a>
<a class="sourceLine" id="cb9-15" data-line-number="15">          (<span class="dt">Simply</span> (<span class="dt">UnexpectedEOF</span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16">          (<span class="dt">Left</span> <span class="st">&quot;lower case latin letter (a-z)&quot;</span>)))</a>
<a class="sourceLine" id="cb9-17" data-line-number="17">        , <span class="dt">Because</span> (<span class="dt">Note</span> <span class="st">&quot;big word&quot;</span> <span class="dt">Nothing</span>)</a>
<a class="sourceLine" id="cb9-18" data-line-number="18">          (<span class="dt">Simply</span> (<span class="dt">UnexpectedEOF</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19">          (<span class="dt">Left</span> <span class="st">&quot;upper case latin letter (A-Z)&quot;</span>)))</a>
<a class="sourceLine" id="cb9-20" data-line-number="20">        ]</a>
<a class="sourceLine" id="cb9-21" data-line-number="21">    )</a>
<a class="sourceLine" id="cb9-22" data-line-number="22">  , ( <span class="st">&quot;5&quot;</span></a>
<a class="sourceLine" id="cb9-23" data-line-number="23">    , <span class="dt">OneOf</span></a>
<a class="sourceLine" id="cb9-24" data-line-number="24">        [ <span class="dt">Because</span> (<span class="dt">Note</span> <span class="st">&quot;little word&quot;</span> (<span class="dt">Just</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>)))</a>
<a class="sourceLine" id="cb9-25" data-line-number="25">          (<span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">UnexpectedSatisfy</span> <span class="ch">&#39;5&#39;</span></a>
<a class="sourceLine" id="cb9-26" data-line-number="26">          <span class="st">&quot;lower case latin letter (a-z)&quot;</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb9-27" data-line-number="27">        , <span class="dt">Because</span> (<span class="dt">Note</span> <span class="st">&quot;big word&quot;</span> (<span class="dt">Just</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>)))</a>
<a class="sourceLine" id="cb9-28" data-line-number="28">          (<span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">UnexpectedSatisfy</span> <span class="ch">&#39;5&#39;</span></a>
<a class="sourceLine" id="cb9-29" data-line-number="29">          <span class="st">&quot;upper case latin letter (A-Z)&quot;</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb9-30" data-line-number="30">        ]</a>
<a class="sourceLine" id="cb9-31" data-line-number="31">    )</a>
<a class="sourceLine" id="cb9-32" data-line-number="32">  ]</a></code></pre></div>
<p>Here’s a parser for a simplified telephone number format. These numbers have three ternary digits with an optional one-digit area code, and are formatted as either <code>(N) N-NN</code> or <code>N-NN</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb10-1" data-line-number="1">p_04 <span class="fu">=</span> (no_area_code <span class="fu">&lt;|&gt;</span> with_area_code) <span class="fu">&gt;&gt;</span> eof</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">  <span class="kw">where</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3">    no_area_code <span class="fu">=</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">      digit <span class="fu">&gt;&gt;</span> char <span class="ch">&#39;-&#39;</span> <span class="fu">&gt;&gt;</span> digit <span class="fu">&gt;&gt;</span> digit</a>
<a class="sourceLine" id="cb10-5" data-line-number="5"></a>
<a class="sourceLine" id="cb10-6" data-line-number="6">    with_area_code <span class="fu">=</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7">      char <span class="ch">&#39;(&#39;</span> <span class="fu">&gt;&gt;</span> digit <span class="fu">&gt;&gt;</span> char <span class="ch">&#39;)&#39;</span> <span class="fu">&gt;&gt;</span> char <span class="ch">&#39; &#39;</span> <span class="fu">&gt;&gt;</span> no_area_code</a>
<a class="sourceLine" id="cb10-8" data-line-number="8"></a>
<a class="sourceLine" id="cb10-9" data-line-number="9">    digit <span class="fu">=</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10">      satisfies (\c <span class="ot">-&gt;</span> elem c [<span class="ch">&#39;0&#39;</span>,<span class="ch">&#39;1&#39;</span>,<span class="ch">&#39;2&#39;</span>]) <span class="st">&quot;ternary digit&quot;</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"></a>
<a class="sourceLine" id="cb10-12" data-line-number="12">ok_04 <span class="fu">=</span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13">  [ (<span class="st">&quot;1-11&quot;</span>, ())</a>
<a class="sourceLine" id="cb10-14" data-line-number="14">  , (<span class="st">&quot;(2) 1-01&quot;</span>, ())</a>
<a class="sourceLine" id="cb10-15" data-line-number="15">  ]</a>
<a class="sourceLine" id="cb10-16" data-line-number="16"></a>
<a class="sourceLine" id="cb10-17" data-line-number="17">fail_04 <span class="fu">=</span></a>
<a class="sourceLine" id="cb10-18" data-line-number="18">  [ ( <span class="st">&quot;1-13&quot;</span></a>
<a class="sourceLine" id="cb10-19" data-line-number="19">    , <span class="dt">OneOf</span></a>
<a class="sourceLine" id="cb10-20" data-line-number="20">        [ <span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">UnexpectedSatisfy</span> <span class="ch">&#39;3&#39;</span> <span class="st">&quot;ternary digit&quot;</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb10-21" data-line-number="21">        , <span class="dt">Simply</span> <span class="fu">$</span> <span class="dt">UnexpectedToken</span> <span class="ch">&#39;1&#39;</span> (<span class="dt">Just</span> <span class="ch">&#39;(&#39;</span>) (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb10-22" data-line-number="22">        ]</a>
<a class="sourceLine" id="cb10-23" data-line-number="23">    )</a>
<a class="sourceLine" id="cb10-24" data-line-number="24">  ]</a></code></pre></div>
<p>Here’s a parser testing positive and negative lookahead.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb11-1" data-line-number="1">p_05 <span class="fu">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">  wouldSucceed <span class="fu">$</span> some (char <span class="ch">&#39;a&#39;</span> <span class="fu">&lt;|&gt;</span> char <span class="ch">&#39;b&#39;</span>)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">  some (char <span class="ch">&#39;a&#39;</span> <span class="fu">&lt;|&gt;</span> char <span class="ch">&#39;b&#39;</span>)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">  wouldFail <span class="fu">$</span> char <span class="ch">&#39;%&#39;</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5">  many (char <span class="ch">&#39;_&#39;</span>)</a>
<a class="sourceLine" id="cb11-6" data-line-number="6">  return ()</a>
<a class="sourceLine" id="cb11-7" data-line-number="7"></a>
<a class="sourceLine" id="cb11-8" data-line-number="8">ok_05 <span class="fu">=</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9">  [ (<span class="st">&quot;a&quot;</span>, ())</a>
<a class="sourceLine" id="cb11-10" data-line-number="10">  , (<span class="st">&quot;babbab____&quot;</span>, ())</a>
<a class="sourceLine" id="cb11-11" data-line-number="11">  ]</a>
<a class="sourceLine" id="cb11-12" data-line-number="12"></a>
<a class="sourceLine" id="cb11-13" data-line-number="13">fail_05 <span class="fu">=</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14">  [ ( <span class="st">&quot;c&quot;</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15">    , <span class="dt">Because</span> (<span class="dt">Lookahead</span> (<span class="dt">Just</span> (<span class="dt">Pos</span> {line <span class="fu">=</span> <span class="dv">1</span>, column <span class="fu">=</span> <span class="dv">1</span>})))</a>
<a class="sourceLine" id="cb11-16" data-line-number="16">        (<span class="dt">OneOf</span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17">          [ <span class="dt">Simply</span> (<span class="dt">UnexpectedToken</span> <span class="ch">&#39;c&#39;</span> (<span class="dt">Just</span> <span class="ch">&#39;a&#39;</span>) (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb11-18" data-line-number="18">          , <span class="dt">Simply</span> (<span class="dt">UnexpectedToken</span> <span class="ch">&#39;c&#39;</span> (<span class="dt">Just</span> <span class="ch">&#39;b&#39;</span>) (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb11-19" data-line-number="19">          ])</a>
<a class="sourceLine" id="cb11-20" data-line-number="20">    )</a>
<a class="sourceLine" id="cb11-21" data-line-number="21">  , ( <span class="st">&quot;%&quot;</span></a>
<a class="sourceLine" id="cb11-22" data-line-number="22">    , <span class="dt">Because</span> (<span class="dt">Lookahead</span> (<span class="dt">Just</span> (<span class="dt">Pos</span> {line <span class="fu">=</span> <span class="dv">1</span>, column <span class="fu">=</span> <span class="dv">1</span>})))</a>
<a class="sourceLine" id="cb11-23" data-line-number="23">        (<span class="dt">OneOf</span></a>
<a class="sourceLine" id="cb11-24" data-line-number="24">          [ <span class="dt">Simply</span> (<span class="dt">UnexpectedToken</span> <span class="ch">&#39;%&#39;</span> (<span class="dt">Just</span> <span class="ch">&#39;a&#39;</span>) (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb11-25" data-line-number="25">          , <span class="dt">Simply</span> (<span class="dt">UnexpectedToken</span> <span class="ch">&#39;%&#39;</span> (<span class="dt">Just</span> <span class="ch">&#39;b&#39;</span>) (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb11-26" data-line-number="26">          ])</a>
<a class="sourceLine" id="cb11-27" data-line-number="27">    )</a>
<a class="sourceLine" id="cb11-28" data-line-number="28">  , ( <span class="st">&quot;aabba%&quot;</span></a>
<a class="sourceLine" id="cb11-29" data-line-number="29">    , <span class="dt">Simply</span> (<span class="dt">UnexpectedSuccess</span> (<span class="dt">Just</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">6</span>)))</a>
<a class="sourceLine" id="cb11-30" data-line-number="30">    )</a>
<a class="sourceLine" id="cb11-31" data-line-number="31">  ]</a></code></pre></div>
<p>Now some basic indentation.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb12-1" data-line-number="1">p_06 <span class="fu">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">  localRef (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">5</span>) <span class="fu">$</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">    ignore spaces</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">    indent (wrtRef <span class="dt">Start</span> <span class="dt">Column</span> <span class="dt">Eq</span>) <span class="fu">$</span> char <span class="ch">&#39;a&#39;</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5">  eof</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">ok_06 <span class="fu">=</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8">  [ (<span class="st">&quot;    a&quot;</span>, ())</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">  ]</a>
<a class="sourceLine" id="cb12-10" data-line-number="10"></a>
<a class="sourceLine" id="cb12-11" data-line-number="11">fail_06 <span class="fu">=</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12">  [ ( <span class="st">&quot;a&quot;</span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13">    , <span class="dt">Simply</span> (<span class="dt">UnexpectedIndentation</span></a>
<a class="sourceLine" id="cb12-14" data-line-number="14">        (<span class="st">&quot;start column of successful parse, at l1c1, to &quot;</span> <span class="fu">++</span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15">         <span class="st">&quot;equal that of the reference position at l1c5&quot;</span>)</a>
<a class="sourceLine" id="cb12-16" data-line-number="16">        (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>, <span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb12-17" data-line-number="17">    )</a>
<a class="sourceLine" id="cb12-18" data-line-number="18">  ]</a></code></pre></div>
<p>And a permutation.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb13-1" data-line-number="1">p_07 <span class="fu">=</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">  <span class="kw">let</span> f x y z <span class="fu">=</span> [x,y] <span class="fu">++</span> z <span class="kw">in</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  permute (f <span class="fu">&lt;$$&gt;</span> char <span class="ch">&#39;a&#39;</span> <span class="fu">&lt;&amp;?&gt;</span> (<span class="ch">&#39;_&#39;</span>, char <span class="ch">&#39;b&#39;</span>) <span class="fu">&lt;&amp;&amp;&gt;</span> some (char <span class="ch">&#39;c&#39;</span>))</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"></a>
<a class="sourceLine" id="cb13-5" data-line-number="5">ok_07 <span class="fu">=</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6">  [ (<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;abc&quot;</span>)</a>
<a class="sourceLine" id="cb13-7" data-line-number="7">  , (<span class="st">&quot;cca&quot;</span>, <span class="st">&quot;a_cc&quot;</span>)</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">  ]</a>
<a class="sourceLine" id="cb13-9" data-line-number="9"></a>
<a class="sourceLine" id="cb13-10" data-line-number="10">fail_07 <span class="fu">=</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11">  [ ( <span class="st">&quot;bacd&quot;</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12">    , <span class="dt">Simply</span> (<span class="dt">IncompleteParse</span> (<span class="dt">Just</span> (<span class="dt">Pos</span> <span class="dv">1</span> <span class="dv">4</span>)))</a>
<a class="sourceLine" id="cb13-13" data-line-number="13">    )</a>
<a class="sourceLine" id="cb13-14" data-line-number="14">  ]</a></code></pre></div>
<p>Now for something a little more complicated. Here’s a simple rose tree type. We’ll use indentation to denote levels in the tree; child nodes are indented by two extra spaces.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">data</span> <span class="dt">Tree</span> <span class="fu">=</span> <span class="dt">B</span> <span class="dt">String</span> [<span class="dt">Tree</span>]</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">  <span class="kw">deriving</span> (<span class="dt">Eq</span>, <span class="dt">Show</span>)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">p_08 <span class="fu">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5">  (b,(u,_)) <span class="ot">&lt;-</span> ignore spaces <span class="fu">*&gt;</span> consume (some lowerLatin) <span class="fu">&lt;*</span> newline</a>
<a class="sourceLine" id="cb14-6" data-line-number="6">  ts <span class="ot">&lt;-</span> many <span class="fu">$</span> indent (wrtPos u <span class="dt">Start</span> <span class="dt">Column</span> (<span class="dt">Add</span> <span class="dv">2</span>)) p_08</a>
<a class="sourceLine" id="cb14-7" data-line-number="7">  return <span class="fu">$</span> <span class="dt">B</span> b ts</a>
<a class="sourceLine" id="cb14-8" data-line-number="8"></a>
<a class="sourceLine" id="cb14-9" data-line-number="9">ok_08 <span class="fu">=</span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10">  [ ( concat</a>
<a class="sourceLine" id="cb14-11" data-line-number="11">        [ <span class="st">&quot;a\n&quot;</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12">        ]</a>
<a class="sourceLine" id="cb14-13" data-line-number="13">    , <span class="dt">B</span> <span class="st">&quot;a&quot;</span> []</a>
<a class="sourceLine" id="cb14-14" data-line-number="14">    )</a>
<a class="sourceLine" id="cb14-15" data-line-number="15">  , ( concat</a>
<a class="sourceLine" id="cb14-16" data-line-number="16">        [ <span class="st">&quot;a\n&quot;</span></a>
<a class="sourceLine" id="cb14-17" data-line-number="17">        , <span class="st">&quot;  b\n&quot;</span></a>
<a class="sourceLine" id="cb14-18" data-line-number="18">        , <span class="st">&quot;  c\n&quot;</span></a>
<a class="sourceLine" id="cb14-19" data-line-number="19">        ]</a>
<a class="sourceLine" id="cb14-20" data-line-number="20">    , <span class="dt">B</span> <span class="st">&quot;a&quot;</span> [<span class="dt">B</span> <span class="st">&quot;b&quot;</span> [], <span class="dt">B</span> <span class="st">&quot;c&quot;</span> []]</a>
<a class="sourceLine" id="cb14-21" data-line-number="21">    )</a>
<a class="sourceLine" id="cb14-22" data-line-number="22">  ]</a>
<a class="sourceLine" id="cb14-23" data-line-number="23"></a>
<a class="sourceLine" id="cb14-24" data-line-number="24">fail_08 <span class="fu">=</span></a>
<a class="sourceLine" id="cb14-25" data-line-number="25">  [ ( concat</a>
<a class="sourceLine" id="cb14-26" data-line-number="26">        [ <span class="st">&quot;a\n&quot;</span></a>
<a class="sourceLine" id="cb14-27" data-line-number="27">        , <span class="st">&quot; b\n&quot;</span></a>
<a class="sourceLine" id="cb14-28" data-line-number="28">        ]</a>
<a class="sourceLine" id="cb14-29" data-line-number="29">    , <span class="dt">Simply</span> (<span class="dt">IncompleteParse</span> (<span class="dt">Just</span> (<span class="dt">Pos</span> <span class="dv">2</span> <span class="dv">1</span>)))</a>
<a class="sourceLine" id="cb14-30" data-line-number="30">    )</a>
<a class="sourceLine" id="cb14-31" data-line-number="31">  ]</a></code></pre></div>
<h2 id="main">Main</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="ot">main ::</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">main <span class="fu">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3">  putStrLn <span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"></a>
<a class="sourceLine" id="cb15-5" data-line-number="5">  test_parser <span class="st">&quot;char&quot;</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6">    p_00 ok_00 fail_00</a>
<a class="sourceLine" id="cb15-7" data-line-number="7"></a>
<a class="sourceLine" id="cb15-8" data-line-number="8">  test_parser <span class="st">&quot;anyChar&quot;</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9">    p_01 ok_01 fail_01</a>
<a class="sourceLine" id="cb15-10" data-line-number="10"></a>
<a class="sourceLine" id="cb15-11" data-line-number="11">  test_parser <span class="st">&quot;many decimalDigit &lt;* eof&quot;</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12">    p_02 ok_02 fail_02</a>
<a class="sourceLine" id="cb15-13" data-line-number="13"></a>
<a class="sourceLine" id="cb15-14" data-line-number="14">  test_parser <span class="st">&quot;little or big word&quot;</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15">    p_03 ok_03 fail_03</a>
<a class="sourceLine" id="cb15-16" data-line-number="16"></a>
<a class="sourceLine" id="cb15-17" data-line-number="17">  test_parser <span class="st">&quot;ternary phone numbers&quot;</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18">    p_04 ok_04 fail_04</a>
<a class="sourceLine" id="cb15-19" data-line-number="19"></a>
<a class="sourceLine" id="cb15-20" data-line-number="20">  test_parser <span class="st">&quot;speculation&quot;</span></a>
<a class="sourceLine" id="cb15-21" data-line-number="21">    p_05 ok_05 fail_05</a>
<a class="sourceLine" id="cb15-22" data-line-number="22"></a>
<a class="sourceLine" id="cb15-23" data-line-number="23">  test_parser <span class="st">&quot;simple indentation&quot;</span></a>
<a class="sourceLine" id="cb15-24" data-line-number="24">    p_06 ok_06 fail_06</a>
<a class="sourceLine" id="cb15-25" data-line-number="25"></a>
<a class="sourceLine" id="cb15-26" data-line-number="26">  test_parser <span class="st">&quot;simple permutation&quot;</span></a>
<a class="sourceLine" id="cb15-27" data-line-number="27">    p_07 ok_07 fail_07</a>
<a class="sourceLine" id="cb15-28" data-line-number="28"></a>
<a class="sourceLine" id="cb15-29" data-line-number="29">  test_parser <span class="st">&quot;indented trees&quot;</span></a>
<a class="sourceLine" id="cb15-30" data-line-number="30">    p_08 ok_08 fail_08</a></code></pre></div>
</body>
</html>
